{"ast":null,"code":"import { ref, onMounted } from 'vue';\nimport axios from 'axios';\nconst API_URL = 'http://localhost:5000/api'; // Replace with your actual API URL\n\nexport default {\n  __name: 'BatchManagement',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const batches = ref([]);\n    const inventoryItems = ref([]);\n    const newBatch = ref({\n      inventory_item_id: '',\n      batch_number: '',\n      quantity: 0,\n      expiry_date: '',\n      supplier: '',\n      received_date: ''\n    });\n    const fetchBatches = async () => {\n      try {\n        const response = await axios.get(`${API_URL}/batches`);\n        batches.value = response.data.data;\n      } catch (error) {\n        console.error('Error fetching batches:', error);\n      }\n    };\n    const fetchInventoryItems = async () => {\n      try {\n        const response = await axios.get(`${API_URL}/items`);\n        inventoryItems.value = response.data.data;\n      } catch (error) {\n        console.error('Error fetching inventory items:', error);\n      }\n    };\n    const addBatch = async () => {\n      try {\n        await axios.post(`${API_URL}/batches`, newBatch.value);\n        await fetchBatches();\n        newBatch.value = {\n          inventory_item_id: '',\n          batch_number: '',\n          quantity: 0,\n          expiry_date: '',\n          supplier: '',\n          received_date: ''\n        };\n      } catch (error) {\n        console.error('Error adding batch:', error);\n      }\n    };\n    const editBatch = batch => {\n      // Implement edit functionality\n      console.log('Edit batch:', batch);\n    };\n    const deleteBatch = async id => {\n      try {\n        await axios.delete(`${API_URL}/batches/${id}`);\n        await fetchBatches();\n      } catch (error) {\n        console.error('Error deleting batch:', error);\n      }\n    };\n    const formatDate = date => {\n      return new Date(date).toLocaleDateString();\n    };\n    onMounted(() => {\n      fetchBatches();\n      fetchInventoryItems();\n    });\n    const __returned__ = {\n      API_URL,\n      batches,\n      inventoryItems,\n      newBatch,\n      fetchBatches,\n      fetchInventoryItems,\n      addBatch,\n      editBatch,\n      deleteBatch,\n      formatDate,\n      ref,\n      onMounted,\n      get axios() {\n        return axios;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","axios","API_URL","batches","inventoryItems","newBatch","inventory_item_id","batch_number","quantity","expiry_date","supplier","received_date","fetchBatches","response","get","value","data","error","console","fetchInventoryItems","addBatch","post","editBatch","batch","log","deleteBatch","id","delete","formatDate","date","Date","toLocaleDateString"],"sources":["C:/Users/Lenovo Pc/OneDrive - Department of Education/Desktop/MCDL_Clinic_Inventory/frontend/src/views/BatchManagement.vue"],"sourcesContent":["<template>\r\n  <div class=\"container mx-auto px-4 py-8\">\r\n    <h1 class=\"text-3xl font-semibold text-gray-800 mb-6\">Batch Management</h1>\r\n    \r\n    <!-- Add New Batch Form -->\r\n    <div class=\"bg-white shadow-md rounded-lg p-6 mb-8\">\r\n      <h2 class=\"text-xl font-semibold text-gray-700 mb-4\">Add New Batch</h2>\r\n      <form @submit.prevent=\"addBatch\" class=\"space-y-4\">\r\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n          <div>\r\n            <label for=\"inventoryItem\" class=\"block text-sm font-medium text-gray-700\">Inventory Item</label>\r\n            <select v-model=\"newBatch.inventory_item_id\" id=\"inventoryItem\" required class=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\">\r\n              <option v-for=\"item in inventoryItems\" :key=\"item.id\" :value=\"item.id\">{{ item.name }}</option>\r\n            </select>\r\n          </div>\r\n          <div>\r\n            <label for=\"batchNumber\" class=\"block text-sm font-medium text-gray-700\">Batch Number</label>\r\n            <input v-model=\"newBatch.batch_number\" type=\"text\" id=\"batchNumber\" required class=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\">\r\n          </div>\r\n          <div>\r\n            <label for=\"quantity\" class=\"block text-sm font-medium text-gray-700\">Quantity</label>\r\n            <input v-model=\"newBatch.quantity\" type=\"number\" id=\"quantity\" required class=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\">\r\n          </div>\r\n          <div>\r\n            <label for=\"expiryDate\" class=\"block text-sm font-medium text-gray-700\">Expiry Date</label>\r\n            <input v-model=\"newBatch.expiry_date\" type=\"date\" id=\"expiryDate\" required class=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\">\r\n          </div>\r\n          <div>\r\n            <label for=\"supplier\" class=\"block text-sm font-medium text-gray-700\">Supplier</label>\r\n            <input v-model=\"newBatch.supplier\" type=\"text\" id=\"supplier\" required class=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\">\r\n          </div>\r\n          <div>\r\n            <label for=\"receivedDate\" class=\"block text-sm font-medium text-gray-700\">Received Date</label>\r\n            <input v-model=\"newBatch.received_date\" type=\"date\" id=\"receivedDate\" required class=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\">\r\n          </div>\r\n        </div>\r\n        <button type=\"submit\" class=\"w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-50\">\r\n          Add Batch\r\n        </button>\r\n      </form>\r\n    </div>\r\n\r\n    <!-- Batches List -->\r\n    <div class=\"bg-white shadow-md rounded-lg overflow-hidden\">\r\n      <table class=\"min-w-full divide-y divide-gray-200\">\r\n        <thead class=\"bg-gray-50\">\r\n          <tr>\r\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Batch Number</th>\r\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Item</th>\r\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Quantity</th>\r\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Expiry Date</th>\r\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Supplier</th>\r\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Received Date</th>\r\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody class=\"bg-white divide-y divide-gray-200\">\r\n          <tr v-for=\"batch in batches\" :key=\"batch.id\">\r\n            <td class=\"px-6 py-4 whitespace-nowrap\">{{ batch.batch_number }}</td>\r\n            <td class=\"px-6 py-4 whitespace-nowrap\">{{ batch.inventory_item.name }}</td>\r\n            <td class=\"px-6 py-4 whitespace-nowrap\">{{ batch.quantity }}</td>\r\n            <td class=\"px-6 py-4 whitespace-nowrap\">{{ formatDate(batch.expiry_date) }}</td>\r\n            <td class=\"px-6 py-4 whitespace-nowrap\">{{ batch.supplier }}</td>\r\n            <td class=\"px-6 py-4 whitespace-nowrap\">{{ formatDate(batch.received_date) }}</td>\r\n            <td class=\"px-6 py-4 whitespace-nowrap\">\r\n              <button @click=\"editBatch(batch)\" class=\"text-indigo-600 hover:text-indigo-900 mr-2\">Edit</button>\r\n              <button @click=\"deleteBatch(batch.id)\" class=\"text-red-600 hover:text-red-900\">Delete</button>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue';\r\nimport axios from 'axios';\r\n\r\nconst API_URL = 'http://localhost:5000/api'; // Replace with your actual API URL\r\n\r\nconst batches = ref([]);\r\nconst inventoryItems = ref([]);\r\nconst newBatch = ref({\r\n  inventory_item_id: '',\r\n  batch_number: '',\r\n  quantity: 0,\r\n  expiry_date: '',\r\n  supplier: '',\r\n  received_date: ''\r\n});\r\n\r\nconst fetchBatches = async () => {\r\n  try {\r\n    const response = await axios.get(`${API_URL}/batches`);\r\n    batches.value = response.data.data;\r\n  } catch (error) {\r\n    console.error('Error fetching batches:', error);\r\n  }\r\n};\r\n\r\nconst fetchInventoryItems = async () => {\r\n  try {\r\n    const response = await axios.get(`${API_URL}/items`);\r\n    inventoryItems.value = response.data.data;\r\n  } catch (error) {\r\n    console.error('Error fetching inventory items:', error);\r\n  }\r\n};\r\n\r\nconst addBatch = async () => {\r\n  try {\r\n    await axios.post(`${API_URL}/batches`, newBatch.value);\r\n    await fetchBatches();\r\n    newBatch.value = { \r\n      inventory_item_id: '', \r\n      batch_number: '', \r\n      quantity: 0, \r\n      expiry_date: '',\r\n      supplier: '',\r\n      received_date: ''\r\n    };\r\n  } catch (error) {\r\n    console.error('Error adding batch:', error);\r\n  }\r\n};\r\n\r\nconst editBatch = (batch) => {\r\n  // Implement edit functionality\r\n  console.log('Edit batch:', batch);\r\n};\r\n\r\nconst deleteBatch = async (id) => {\r\n  try {\r\n    await axios.delete(`${API_URL}/batches/${id}`);\r\n    await fetchBatches();\r\n  } catch (error) {\r\n    console.error('Error deleting batch:', error);\r\n  }\r\n};\r\n\r\nconst formatDate = (date) => {\r\n  return new Date(date).toLocaleDateString();\r\n};\r\n\r\nonMounted(() => {\r\n  fetchBatches();\r\n  fetchInventoryItems();\r\n});\r\n</script>"],"mappings":"AA4EA,SAASA,GAAG,EAAEC,SAAS,QAAQ,KAAK;AACpC,OAAOC,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAG,2BAA2B,CAAC,CAAC;;;;;;;;IAE7C,MAAMC,OAAO,GAAGJ,GAAG,CAAC,EAAE,CAAC;IACvB,MAAMK,cAAc,GAAGL,GAAG,CAAC,EAAE,CAAC;IAC9B,MAAMM,QAAQ,GAAGN,GAAG,CAAC;MACnBO,iBAAiB,EAAE,EAAE;MACrBC,YAAY,EAAE,EAAE;MAChBC,QAAQ,EAAE,CAAC;MACXC,WAAW,EAAE,EAAE;MACfC,QAAQ,EAAE,EAAE;MACZC,aAAa,EAAE;IACjB,CAAC,CAAC;IAEF,MAAMC,YAAY,GAAG,MAAAA,CAAA,KAAY;MAC/B,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMZ,KAAK,CAACa,GAAG,CAAC,GAAGZ,OAAO,UAAU,CAAC;QACtDC,OAAO,CAACY,KAAK,GAAGF,QAAQ,CAACG,IAAI,CAACA,IAAI;MACpC,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;MACjD;IACF,CAAC;IAED,MAAME,mBAAmB,GAAG,MAAAA,CAAA,KAAY;MACtC,IAAI;QACF,MAAMN,QAAQ,GAAG,MAAMZ,KAAK,CAACa,GAAG,CAAC,GAAGZ,OAAO,QAAQ,CAAC;QACpDE,cAAc,CAACW,KAAK,GAAGF,QAAQ,CAACG,IAAI,CAACA,IAAI;MAC3C,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;MACzD;IACF,CAAC;IAED,MAAMG,QAAQ,GAAG,MAAAA,CAAA,KAAY;MAC3B,IAAI;QACF,MAAMnB,KAAK,CAACoB,IAAI,CAAC,GAAGnB,OAAO,UAAU,EAAEG,QAAQ,CAACU,KAAK,CAAC;QACtD,MAAMH,YAAY,CAAC,CAAC;QACpBP,QAAQ,CAACU,KAAK,GAAG;UACfT,iBAAiB,EAAE,EAAE;UACrBC,YAAY,EAAE,EAAE;UAChBC,QAAQ,EAAE,CAAC;UACXC,WAAW,EAAE,EAAE;UACfC,QAAQ,EAAE,EAAE;UACZC,aAAa,EAAE;QACjB,CAAC;MACH,CAAC,CAAC,OAAOM,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;MAC7C;IACF,CAAC;IAED,MAAMK,SAAS,GAAIC,KAAK,IAAK;MAC3B;MACAL,OAAO,CAACM,GAAG,CAAC,aAAa,EAAED,KAAK,CAAC;IACnC,CAAC;IAED,MAAME,WAAW,GAAG,MAAOC,EAAE,IAAK;MAChC,IAAI;QACF,MAAMzB,KAAK,CAAC0B,MAAM,CAAC,GAAGzB,OAAO,YAAYwB,EAAE,EAAE,CAAC;QAC9C,MAAMd,YAAY,CAAC,CAAC;MACtB,CAAC,CAAC,OAAOK,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC/C;IACF,CAAC;IAED,MAAMW,UAAU,GAAIC,IAAI,IAAK;MAC3B,OAAO,IAAIC,IAAI,CAACD,IAAI,CAAC,CAACE,kBAAkB,CAAC,CAAC;IAC5C,CAAC;IAED/B,SAAS,CAAC,MAAM;MACdY,YAAY,CAAC,CAAC;MACdO,mBAAmB,CAAC,CAAC;IACvB,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
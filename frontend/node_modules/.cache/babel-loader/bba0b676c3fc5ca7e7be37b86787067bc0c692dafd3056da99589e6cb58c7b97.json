{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container mx-auto px-4 py-8\"\n};\nconst _hoisted_2 = {\n  class: \"bg-white shadow-md rounded-lg overflow-hidden\"\n};\nconst _hoisted_3 = {\n  class: \"min-w-full divide-y divide-gray-200\"\n};\nconst _hoisted_4 = {\n  class: \"bg-white divide-y divide-gray-200\"\n};\nconst _hoisted_5 = {\n  class: \"px-6 py-4 whitespace-nowrap\"\n};\nconst _hoisted_6 = {\n  class: \"px-6 py-4 whitespace-nowrap\"\n};\nconst _hoisted_7 = {\n  class: \"px-6 py-4 whitespace-nowrap\"\n};\nconst _hoisted_8 = {\n  class: \"px-6 py-4 whitespace-nowrap\"\n};\nconst _hoisted_9 = {\n  class: \"px-6 py-4 whitespace-nowrap\"\n};\nconst _hoisted_10 = {\n  class: \"px-6 py-4 whitespace-nowrap\"\n};\nconst _hoisted_11 = {\n  class: \"px-6 py-4 whitespace-nowrap\"\n};\nconst _hoisted_12 = [\"onClick\"];\nconst _hoisted_13 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[1] || (_cache[1] = _createElementVNode(\"h1\", {\n    class: \"text-3xl font-semibold text-gray-800 mb-6\"\n  }, \"Batch Management\", -1 /* HOISTED */)), _createCommentVNode(\" Batches List \"), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"table\", _hoisted_3, [_cache[0] || (_cache[0] = _createElementVNode(\"thead\", {\n    class: \"bg-gray-50\"\n  }, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", {\n    class: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n  }, \"Batch Number\"), _createElementVNode(\"th\", {\n    class: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n  }, \"Item\"), _createElementVNode(\"th\", {\n    class: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n  }, \"Quantity\"), _createElementVNode(\"th\", {\n    class: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n  }, \"Expiry Date\"), _createElementVNode(\"th\", {\n    class: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n  }, \"Supplier\"), _createElementVNode(\"th\", {\n    class: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n  }, \"Received Date\"), _createElementVNode(\"th\", {\n    class: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n  }, \"Actions\")])], -1 /* HOISTED */)), _createElementVNode(\"tbody\", _hoisted_4, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.batches, batch => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: batch.id\n    }, [_createElementVNode(\"td\", _hoisted_5, _toDisplayString(batch.batch_number), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_6, _toDisplayString(batch.inventory_item.name), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_7, _toDisplayString(batch.quantity), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_8, _toDisplayString($setup.formatDate(batch.expiry_date)), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_9, _toDisplayString(batch.supplier), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_10, _toDisplayString($setup.formatDate(batch.received_date)), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_11, [_createElementVNode(\"button\", {\n      onClick: $event => $setup.editBatch(batch),\n      class: \"text-indigo-600 hover:text-indigo-900 mr-2\"\n    }, \"Edit\", 8 /* PROPS */, _hoisted_12), _createElementVNode(\"button\", {\n      onClick: $event => $setup.deleteBatch(batch.id),\n      class: \"text-red-600 hover:text-red-900\"\n    }, \"Delete\", 8 /* PROPS */, _hoisted_13)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_createCommentVNode","_hoisted_2","_hoisted_3","_hoisted_4","_Fragment","_renderList","$setup","batches","batch","key","id","_hoisted_5","_toDisplayString","batch_number","_hoisted_6","inventory_item","name","_hoisted_7","quantity","_hoisted_8","formatDate","expiry_date","_hoisted_9","supplier","_hoisted_10","received_date","_hoisted_11","onClick","$event","editBatch","_hoisted_12","deleteBatch","_hoisted_13"],"sources":["C:\\Users\\Lenovo Pc\\OneDrive - Department of Education\\Desktop\\MCDL_Clinic_Inventory\\frontend\\src\\views\\BatchManagement.vue"],"sourcesContent":["<template>\r\n  <div class=\"container mx-auto px-4 py-8\">\r\n    <h1 class=\"text-3xl font-semibold text-gray-800 mb-6\">Batch Management</h1>\r\n    \r\n  \r\n    <!-- Batches List -->\r\n    <div class=\"bg-white shadow-md rounded-lg overflow-hidden\">\r\n      <table class=\"min-w-full divide-y divide-gray-200\">\r\n        <thead class=\"bg-gray-50\">\r\n          <tr>\r\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Batch Number</th>\r\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Item</th>\r\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Quantity</th>\r\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Expiry Date</th>\r\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Supplier</th>\r\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Received Date</th>\r\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody class=\"bg-white divide-y divide-gray-200\">\r\n          <tr v-for=\"batch in batches\" :key=\"batch.id\">\r\n            <td class=\"px-6 py-4 whitespace-nowrap\">{{ batch.batch_number }}</td>\r\n            <td class=\"px-6 py-4 whitespace-nowrap\">{{ batch.inventory_item.name }}</td>\r\n            <td class=\"px-6 py-4 whitespace-nowrap\">{{ batch.quantity }}</td>\r\n            <td class=\"px-6 py-4 whitespace-nowrap\">{{ formatDate(batch.expiry_date) }}</td>\r\n            <td class=\"px-6 py-4 whitespace-nowrap\">{{ batch.supplier }}</td>\r\n            <td class=\"px-6 py-4 whitespace-nowrap\">{{ formatDate(batch.received_date) }}</td>\r\n            <td class=\"px-6 py-4 whitespace-nowrap\">\r\n              <button @click=\"editBatch(batch)\" class=\"text-indigo-600 hover:text-indigo-900 mr-2\">Edit</button>\r\n              <button @click=\"deleteBatch(batch.id)\" class=\"text-red-600 hover:text-red-900\">Delete</button>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>  \r\nimport { ref, onMounted } from 'vue';\r\nimport axios from 'axios';\r\n\r\nconst API_URL = 'http://localhost:5000/api/inventory'; // Replace with your actual API URL\r\n\r\nconst batches = ref([]);\r\nconst inventoryItems = ref([]);\r\nconst newBatch = ref({\r\n  inventory_item_id: '',\r\n  batch_number: '',\r\n  quantity: 0,\r\n  expiry_date: '',\r\n  supplier: '',\r\n  received_date: ''\r\n});\r\n\r\nconst fetchBatches = async () => {\r\n  try {\r\n      // Replace with your actual backend endpoint\r\n      const response = await axios.get(`${API_URL}/items`);\r\n      const data = response.data;\r\n\r\n      // Format the data for easier rendering\r\n      batches.value = data.data()\r\n  } catch (error) {\r\n      console.error('Error fetching inventory data:', error);\r\n  }\r\n};\r\n\r\nconst fetchInventoryItems = async () => {\r\n  try {\r\n    const response = await axios.get(`${API_URL}/items`);\r\n    inventoryItems.value = response.data.data;\r\n  } catch (error) {\r\n    console.error('Error fetching inventory items:', error);\r\n  }\r\n};\r\n\r\nconst addBatch = async () => {\r\n  try {\r\n    await axios.post(`${API_URL}/batches`, newBatch.value);\r\n    await fetchBatches();\r\n    newBatch.value = { \r\n      inventory_item_id: '', \r\n      batch_number: '', \r\n      quantity: 0, \r\n      expiry_date: '',\r\n      supplier: '',\r\n      received_date: ''\r\n    };\r\n  } catch (error) {\r\n    console.error('Error adding batch:', error);\r\n  }\r\n};\r\n\r\nconst editBatch = (batch) => {\r\n  // Implement edit functionality\r\n  console.log('Edit batch:', batch);\r\n};\r\n\r\nconst deleteBatch = async (id) => {\r\n  try {\r\n    await axios.delete(`${API_URL}/batches/${id}`);\r\n    await fetchBatches();\r\n  } catch (error) {\r\n    console.error('Error deleting batch:', error);\r\n  }\r\n};\r\n\r\nconst formatDate = (date) => {\r\n  return new Date(date).toLocaleDateString();\r\n};\r\n\r\nonMounted(() => {\r\n  fetchBatches();\r\n  fetchInventoryItems();\r\n});\r\n</script>"],"mappings":";;EACOA,KAAK,EAAC;AAA6B;;EAKjCA,KAAK,EAAC;AAA+C;;EACjDA,KAAK,EAAC;AAAqC;;EAYzCA,KAAK,EAAC;AAAmC;;EAExCA,KAAK,EAAC;AAA6B;;EACnCA,KAAK,EAAC;AAA6B;;EACnCA,KAAK,EAAC;AAA6B;;EACnCA,KAAK,EAAC;AAA6B;;EACnCA,KAAK,EAAC;AAA6B;;EACnCA,KAAK,EAAC;AAA6B;;EACnCA,KAAK,EAAC;AAA6B;oBA3BnD;oBAAA;;uBACEC,mBAAA,CAkCM,OAlCNC,UAkCM,G,0BAjCJC,mBAAA,CAA2E;IAAvEH,KAAK,EAAC;EAA2C,GAAC,kBAAgB,sBAGtEI,mBAAA,kBAAqB,EACrBD,mBAAA,CA4BM,OA5BNE,UA4BM,GA3BJF,mBAAA,CA0BQ,SA1BRG,UA0BQ,G,0BAzBNH,mBAAA,CAUQ;IAVDH,KAAK,EAAC;EAAY,IACvBG,mBAAA,CAQK,aAPHA,mBAAA,CAA4G;IAAxGH,KAAK,EAAC;EAAgF,GAAC,cAAY,GACvGG,mBAAA,CAAoG;IAAhGH,KAAK,EAAC;EAAgF,GAAC,MAAI,GAC/FG,mBAAA,CAAwG;IAApGH,KAAK,EAAC;EAAgF,GAAC,UAAQ,GACnGG,mBAAA,CAA2G;IAAvGH,KAAK,EAAC;EAAgF,GAAC,aAAW,GACtGG,mBAAA,CAAwG;IAApGH,KAAK,EAAC;EAAgF,GAAC,UAAQ,GACnGG,mBAAA,CAA6G;IAAzGH,KAAK,EAAC;EAAgF,GAAC,eAAa,GACxGG,mBAAA,CAAuG;IAAnGH,KAAK,EAAC;EAAgF,GAAC,SAAO,E,wBAGtGG,mBAAA,CAaQ,SAbRI,UAaQ,I,kBAZNN,mBAAA,CAWKO,SAAA,QA/BfC,WAAA,CAoB8BC,MAAA,CAAAC,OAAO,EAAhBC,KAAK;yBAAhBX,mBAAA,CAWK;MAXyBY,GAAG,EAAED,KAAK,CAACE;QACvCX,mBAAA,CAAqE,MAArEY,UAAqE,EAAAC,gBAAA,CAA1BJ,KAAK,CAACK,YAAY,kBAC7Dd,mBAAA,CAA4E,MAA5Ee,UAA4E,EAAAF,gBAAA,CAAjCJ,KAAK,CAACO,cAAc,CAACC,IAAI,kBACpEjB,mBAAA,CAAiE,MAAjEkB,UAAiE,EAAAL,gBAAA,CAAtBJ,KAAK,CAACU,QAAQ,kBACzDnB,mBAAA,CAAgF,MAAhFoB,UAAgF,EAAAP,gBAAA,CAArCN,MAAA,CAAAc,UAAU,CAACZ,KAAK,CAACa,WAAW,mBACvEtB,mBAAA,CAAiE,MAAjEuB,UAAiE,EAAAV,gBAAA,CAAtBJ,KAAK,CAACe,QAAQ,kBACzDxB,mBAAA,CAAkF,MAAlFyB,WAAkF,EAAAZ,gBAAA,CAAvCN,MAAA,CAAAc,UAAU,CAACZ,KAAK,CAACiB,aAAa,mBACzE1B,mBAAA,CAGK,MAHL2B,WAGK,GAFH3B,mBAAA,CAAkG;MAAzF4B,OAAK,EAAAC,MAAA,IAAEtB,MAAA,CAAAuB,SAAS,CAACrB,KAAK;MAAGZ,KAAK,EAAC;OAA6C,MAAI,iBA5BvGkC,WAAA,GA6Bc/B,mBAAA,CAA8F;MAArF4B,OAAK,EAAAC,MAAA,IAAEtB,MAAA,CAAAyB,WAAW,CAACvB,KAAK,CAACE,EAAE;MAAGd,KAAK,EAAC;OAAkC,QAAM,iBA7BnGoC,WAAA,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}